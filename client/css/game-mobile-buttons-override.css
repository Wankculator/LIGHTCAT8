/* Emergency Mobile Game Buttons Override */
/* This ensures game buttons are ALWAYS visible on mobile */

@media screen and (max-width: 768px) {
    /* Force mobile controls container visible */
    .mobile-controls {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        height: 120px !important;
        z-index: 9999 !important; /* Very high z-index */
        pointer-events: none !important; /* Container doesn't block */
    }
    
    /* Force joystick visible and interactive */
    #mobile-joystick,
    .mobile-joystick {
        display: block !important;
        visibility: visible !important;
        opacity: 0.9 !important;
        position: absolute !important;
        left: 10px !important;
        bottom: 10px !important;
        width: 100px !important;
        height: 100px !important;
        background: rgba(255, 215, 0, 0.1) !important;
        border: 3px solid #FFD700 !important;
        border-radius: 50% !important;
        pointer-events: auto !important;
        touch-action: none !important;
        user-select: none !important;
        -webkit-user-select: none !important;
        -webkit-tap-highlight-color: transparent !important;
        z-index: 10000 !important;
        cursor: pointer !important;
    }
    
    /* Force jump button visible and interactive */
    #mobile-jump,
    .mobile-jump {
        display: flex !important;
        visibility: visible !important;
        opacity: 0.9 !important;
        position: absolute !important;
        right: 10px !important;
        bottom: 10px !important;
        width: 80px !important;
        height: 80px !important;
        background: rgba(255, 215, 0, 0.2) !important;
        border: 3px solid #FFD700 !important;
        border-radius: 50% !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 1rem !important;
        font-weight: bold !important;
        color: #FFD700 !important;
        text-transform: uppercase !important;
        pointer-events: auto !important;
        touch-action: none !important;
        user-select: none !important;
        -webkit-user-select: none !important;
        -webkit-tap-highlight-color: transparent !important;
        z-index: 10000 !important;
        cursor: pointer !important;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.8) !important;
    }
    
    /* Joystick handle */
    #joystick-handle,
    .joystick-handle {
        display: block !important;
        visibility: visible !important;
        position: absolute !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        width: 40px !important;
        height: 40px !important;
        background: rgba(255, 215, 0, 0.6) !important;
        border: 2px solid #FFD700 !important;
        border-radius: 50% !important;
        pointer-events: none !important;
        z-index: 10001 !important;
    }
    
    /* Active states */
    #mobile-jump:active,
    .mobile-jump:active {
        background: rgba(255, 215, 0, 0.4) !important;
        transform: scale(0.95) !important;
    }
    
    #mobile-joystick:active,
    .mobile-joystick:active {
        background: rgba(255, 215, 0, 0.2) !important;
    }
    
    /* Ensure game canvas doesn't overlap */
    #game-canvas {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 120px !important; /* Leave space for controls */
        z-index: 1 !important;
    }
    
    /* Game UI should not block controls */
    #game-ui {
        pointer-events: none !important;
    }
    
    #game-ui > * {
        pointer-events: auto !important;
    }
}

/* Additional mobile detection */
@media (pointer: coarse) and (hover: none) {
    .mobile-controls {
        display: block !important;
    }
}

/* Debug borders - remove in production */
.mobile-controls.debug {
    border: 2px solid red !important;
}

#mobile-joystick.debug,
#mobile-jump.debug {
    border-color: lime !important;
}